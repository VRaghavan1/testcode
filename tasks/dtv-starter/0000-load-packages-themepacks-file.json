{
  "tasks": [
    {
      "taskCode": "RemoveDataCollection",
      "taskConfigurationTemplate": {
        "in": "{DATA_PROCESSING_FOUNDATION_CLICC}",
        "params": {
          "datareposervice_host": "{DATA_REPOSITORY_SERVICE_HOST}",
          "datareposervice_port": "{DATA_REPOSITORY_SERVICE_PORT}",
          "customerCode": "{CUSTOMER_CODE}",
          "dataRepositoryCode": "{DATA_REPOSITORY_CODE}",
          "dataCollectionCode": "tv-packages-themepacks-source",
          "successIfNotExists": true
        }
      }
    },
    {
      "taskCode": "CreateDataCollection",
      "taskConfigurationTemplate": {
        "params": {
          "datareposervice_host": "{DATA_REPOSITORY_SERVICE_HOST}",
          "datareposervice_port": "{DATA_REPOSITORY_SERVICE_PORT}",
          "customerCode": "{CUSTOMER_CODE}",
          "dataRepositoryCode": "{DATA_REPOSITORY_CODE}",
          "dataCollectionCode": "tv-packages-themepacks-source",
          "dataRecordIdentifierProperty": "id"
        }
      }
    },
    {
      "taskCode": "CsvFileFolderToDataRecord",
      "taskConfigurationTemplate": {
        "params": {
          "file_pattern": "PACKAGES_THEMEPACKS_*.csv",
          "value_delimeter": "|"
        }
      }
    },


    {
     "taskCode": "SplitProperty",
     "taskConfigurationTemplate": {
       "params": {
         "property": "OBJECT_TYPE",
         "separator": ","
       }
     }
   },
//    {
//      "taskCode": "Debug",
//      "taskConfigurationTemplate": {
//        "params": {}
//      }
//    },
     {
       "taskCode": "DataRecordToDataRepositoryBulk",
       "taskConfigurationTemplate": {
         "params": {
           "datareposervice_host": "{DATA_REPOSITORY_SERVICE_HOST}",
           "datareposervice_port": "{DATA_REPOSITORY_SERVICE_PORT}",
           "customerCode": "{CUSTOMER_CODE}",
           "dataRepositoryCode": "{DATA_REPOSITORY_CODE}",
           "dataCollectionCode": "tv-packages-themepacks-source"
         }
       }
     }
  ]
}

