{
  "tasks": [
    {
      "taskCode": "CreateDataCollection",
      "taskConfigurationTemplate": {
        "in": "{DATA_PROCESSING_FOUNDATION_CLICC_FOLDER}",
        "params": {
          "datareposervice_host": "{DATA_REPOSITORY_SERVICE_HOST}",
          "datareposervice_port": "{DATA_REPOSITORY_SERVICE_PORT}",
          "customerCode": "{CUSTOMER_CODE}",
          "dataRepositoryCode": "{DATA_REPOSITORY_CODE}",
          "dataCollectionCode": "clicc-channels-source",
          "dataRecordIdentifierProperty": "id",
          "successIfExists": true
        }
      }
    },
    {
      "taskCode": "TruncateDataCollection",
      "taskConfigurationTemplate": {
        "params": {
          "datareposervice_host": "{DATA_REPOSITORY_SERVICE_HOST}",
          "datareposervice_port": "{DATA_REPOSITORY_SERVICE_PORT}",
          "customerCode": "{CUSTOMER_CODE}",
          "dataRepositoryCode": "{DATA_REPOSITORY_CODE}",
          "dataCollectionCode": "clicc-channels-source"
        }
      }
    },
    {
      "taskCode": "Shell-RM",
      "taskConfigurationTemplate": {
        "params": {
          "options": "-f",
          "filename": "{DATA_PROCESSING_FOUNDATION}/{TEMPDIRECTORY}/clicc-source.jsonl*"
        }
      }
      },
    {
      "taskCode": "CsvFileFolderToDataRecord",
      "taskConfigurationTemplate": {
        "params": {
          "file_pattern": "CLICC_DTV_DOTCOM_*.csv",
          "value_delimeter": ","
        }
      }
    },
      {
       "taskCode": "DataRecordToJsonFile",
       "taskConfigurationTemplate": {
         "params": {
           "filename": "{DATA_PROCESSING_FOUNDATION}/{TEMPDIRECTORY}/clicc-source.jsonl",
           "split": 4
           }
         }
       }
  ]
}

