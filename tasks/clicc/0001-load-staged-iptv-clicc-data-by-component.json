{
  "tasks": [
    {
      "taskCode": "RemoveDataCollection",
      "taskConfigurationTemplate": {
        "in": {},
        "params": {
          "datareposervice_host": "{DATA_REPOSITORY_SERVICE_HOST}",
          "datareposervice_port": "{DATA_REPOSITORY_SERVICE_PORT}",
          "customerCode": "{CUSTOMER_CODE}",
          "dataRepositoryCode": "{DATA_REPOSITORY_CODE}",
          "dataCollectionCode": "iptv-clicc-data-by-component",
          "successIfNotExists": true
        }
      }
    },
    {
      "taskCode": "CreateDataCollection",
      "taskConfigurationTemplate": {
        "params": {
          "datareposervice_host": "{DATA_REPOSITORY_SERVICE_HOST}",
          "datareposervice_port": "{DATA_REPOSITORY_SERVICE_PORT}",
          "customerCode": "{CUSTOMER_CODE}",
          "dataRepositoryCode": "{DATA_REPOSITORY_CODE}",
          "dataCollectionCode": "iptv-clicc-data-by-component",
          "dataRecordIdentifierProperty": "id"
        }
      }
    },
    {
      "taskCode": "SQLiteRead",
      "taskConfigurationTemplate": {
        "params": {
            "sql": "select COMPONENT_ID, CHANNEL_NUM, CHANNEL_LOGO, WEBSITE_URL from CLICC_IPTV_DOTCOM GROUP BY COMPONENT_ID, CHANNEL_NUM, CHANNEL_LOGO, WEBSITE_URL",
            "connection": {
                "filename": "{DATA_PROCESSING_FOUNDATION}/{TEMPDIRECTORY}/iptv-clicc.db"
            },
            "loadSqlFromFile": false
        }
      }
    },
    {
      "taskCode": "SplitProperty-channel-num",
      "taskClass": "SplitProperty",
      "taskConfigurationTemplate": {
        "params": {
          "property": ["CHANNEL_NUM"],
          "separator": ","
        }
      }
    },
   {
     "taskCode": "Debug",
     "taskConfigurationTemplate": {
       "params": {}
     }
   },
     {
       "taskCode": "DataRecordToDataRepositoryBulk",
       "taskConfigurationTemplate": {
         "params": {
           "datareposervice_host": "{DATA_REPOSITORY_SERVICE_HOST}",
           "datareposervice_port": "{DATA_REPOSITORY_SERVICE_PORT}",
           "customerCode": "{CUSTOMER_CODE}",
           "dataRepositoryCode": "{DATA_REPOSITORY_CODE}",
           "dataCollectionCode": "iptv-clicc-data-by-component"
         }
       }
     }
  ]
}
