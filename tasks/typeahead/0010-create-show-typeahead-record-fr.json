
{
  "tasks": [
    {
      "taskCode": "CreateDataCollection",
      "taskConfigurationTemplate": {
        "in": {
          "properties": [
            "ShowName_P.raw",
            "record~spec.raw"
            ]
        },
        "params": {
          "datareposervice_host": "{DATA_REPOSITORY_SERVICE_HOST}",
          "datareposervice_port": "{DATA_REPOSITORY_SERVICE_PORT}",
          "customerCode": "{CUSTOMER_CODE}",
          "dataRepositoryCode": "{DATA_REPOSITORY_CODE}",
          "dataCollectionCode": "typeahead-record",
          "dataRecordIdentifierProperty": "dimval~unique_id",
          "successIfExists": true
        }
      }
    },
    {
      "taskCode": "UniqueDataRecordPropertiesToDataRecord",
      "taskConfigurationTemplate": {
        "params": {
            "datareposervice_host": "localhost",
            "datareposervice_port": "40380",
            "customer_code": "rogers",
              "datarepo_code": "eclipse-dev",
              "datarepo_collection_code": "featured-shows"
        }
      }
    },
    {
      "taskCode": "CopyProperties",
      "taskConfigurationTemplate": {
        "params": {
          "copyProperties": [
            {"target":"dimval~unique_id", "source": "record~spec"},
            {"target":"dimval~spec","source": "ShowName_P"},
            {"target":"dimval~display_name","value": "{{{ShowName_P}}} dans les forfaits de télévision numérique"},
            {"target":"dimval~dimension_name","value": "typeahead.ignite.show.fr"},
            {"target":"dimval~display_order","value": ""},
            {"target":"dimval~parent_spec","value": "/"},
            {"target":"dimval~match~use_spec","value": "TRUE"},
            {"target":"dimval~search_synonym","value": ""},
            {"target":"dimval~range~lower_bound","value": ""},
            {"target":"dimval~range~lower_bound_inclusive","value": ""},
            {"target":"dimval~range~upper_bound","value": ""},
            {"target":"dimval~range~upper_bound_inclusive","value": ""},

            {"target":"ute~recordType", "value": "sku"},
            {"target":"ute~recordClass", "value": "channel"},
            {"target":"ute~lineOfBusiness", "value": "digitalCable"},
            {"target":"url", "value": "http://www.rogers.com/web/Rogers.portal?_nfpb=true&_pageLabel=PTV_PROG_PACKAGE"},
            {"target":"image", "source": "image1"}
          ]
        }
      }
    },
    {
      "taskCode": "PickProperties",
      "taskConfigurationTemplate": {
        "params": {
          "properties": [
            "dimval~unique_id",
            "dimval~spec",
            "dimval~display_name",
            "ute~recordType",
            "ute~recordClass",
            "ute~lineOfBusiness",
            "url",
            "dimval~dimension_name",
            "dimval~display_order",
            "dimval~parent_spec",
            "dimval~match~use_spec",
            "dimval~search_synonym",
            "dimval~range~lower_bound",
            "dimval~range~lower_bound_inclusive",
            "dimval~range~upper_bound",
            "dimval~range~upper_bound_inclusive",
            "image"
          ]
        }
      }
    },
    // {
    //  "taskCode": "Debug",
    //  "taskConfigurationTemplate": {
    //    "params": {}
    //  }
    // },
    {
      "taskCode": "DataRecordToDataRepositoryBulk",
      "taskConfigurationTemplate": {
        "params": {
          "customerCode": "rogers",
          "dataRepositoryCode": "eclipse-dev",
          "dataCollectionCode": "typeahead-record"
        }
      }
    }
    ]
}