<h1 id="setting-up-the-data-preparation-server">Setting up the Data Preparation Server</h1>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">export</span> <span class="ot">DATA_PROCESSING_RUNTIME=</span>/app/data-processing-runtime

<span class="kw">export</span> <span class="ot">DATA_PROCESSING_FOUNDATION=</span>/app/foundation-task-runner-project

<span class="kw">export</span> <span class="ot">DATA_PROCESSING_FOUNDATION_TASK_FOLDER=$DATA_PROCESSING_FOUNDATION</span>/tasks
<span class="kw">export</span> <span class="ot">DATA_PROCESSING_FOUNDATION_SETTINGS_FILE=$DATA_PROCESSING_FOUNDATION</span>/tasks/settings.json
<span class="kw">export</span> <span class="ot">DATA_PROCESSING_FOUNDATION_ENDECA_OUTPUT_FILE=$DATA_PROCESSING_FOUNDATION</span>/output/foundation-endeca-records.xml

<span class="kw">export</span> <span class="ot">DATA_PROCESSING_FOUNDATION_ATG_PROCESSING_FOLDER=</span>/tmp/atg/endeca-export

<span class="kw">export</span> <span class="ot">DATA_PROCESSING_FOUNDATION_DATA=</span>/tmp/data</code></pre></div>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">sudo</span> mkdir -p /app/data-processing-runtime
<span class="kw">sudo</span> chown -R endeca:users2 /app/data-processing-runtime
<span class="kw">tar</span> xvf data-processing-runtime.tar.gz -C /app/data-processing-runtime


<span class="kw">node</span> --max_old_space_size=8192 <span class="ot">$DATA_PROCESSING_RUNTIME</span>/task-runner.js -f <span class="ot">$DATA_PROCESSING_FOUNDATION</span> -s tasks/foundation-test-settings.json -c 4 -p FOUNDATION_DATA=<span class="ot">$DATA_PROCESSING_FOUNDATION_DATA</span> -l tasks/foundation-tasks.json -d tasks/task-dependencies.json -m -v <span class="kw">|</span> <span class="kw">./node_modules/.bin/bunyan</span> -l error</code></pre></div>
<p>Notes: * 4 cores took 25 mins * 8 cores took 17 mins * 16 cores took 16 mins</p>
